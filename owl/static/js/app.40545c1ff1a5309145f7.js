webpackJsonp([1],{"5EYH":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},s,!1,function(t){a("cSCL")},null,null).exports,l=a("/ocq"),i=a("d7EF"),o=a.n(i),m=a("gRE1"),c=a.n(m);function p(t){var e=Math.round(t/60);return[Math.floor(e/60),e%60]}var d={name:"Players",data:function(){return{tableData:[],teams:[],teamOptions:[],search:"",clientHeight:0}},mounted:function(){var t=this;this.clientHeight=document.documentElement.clientHeight-60,this.$owl.allPlayers({season:2019}).then(function(e){t.tableData=e}),this.$owl.allTeams().then(function(e){t.teams=e;var a=[];c()(t.teams).forEach(function(t){a.push(t.abbreviatedName)}),a.sort(),a.forEach(function(e){t.teamOptions.push({value:e,text:e})})})},methods:{toFixed0:function(t,e,a){return a.toFixed(0)},toFixed2:function(t,e,a){return a.toFixed(2)},formatTime:function(t,e,a){var r=p(a),s=o()(r,2),n=s[0],l=s[1];return 0===n?0===l?Math.round(a)+"秒":l+"分钟":n+"小时"+l+"分钟"},toPlayer:function(t){this.$router.push({name:"Player",params:{id:t}})},filterTeam:function(t,e){return e.team===t}},computed:{results:function(){var t=this;return this.search.length>0?this.tableData.filter(function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())}):this.tableData}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-responsive"},[a("el-input",{attrs:{placeholder:"输入选手名称","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("el-table",{staticStyle:{margin:"0 auto"},attrs:{height:t.clientHeight,data:t.results}},[a("el-table-column",{attrs:{label:" ",type:"index",fixed:"",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",fixed:"",width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticClass:"player-name",attrs:{target:"_blank",href:"/owl/player/"+e.row.playerId}},[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"role",label:"位置",width:"75",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"30px",height:"30px"}},["support"===e.row.role?a("svg",{attrs:{viewBox:"0 0 64 64",width:"100%",height:"100%"}},[a("path",{attrs:{d:"M51.9,23.2H40.8V12.1A4.1,4.1,0,0,0,36.7,8H27.3a4.1,4.1,0,0,0-4.1,4.1V23.2H12.1A4.1,4.1,0,0,0,8,27.3v9.4a4.1,4.1,0,0,0,4.1,4.1H23.2V51.9A4.1,4.1,0,0,0,27.3,56h9.4a4.1,4.1,0,0,0,4.1-4.1V40.8H51.9A4.1,4.1,0,0,0,56,36.7V27.3A4.1,4.1,0,0,0,51.9,23.2Z"}})]):t._e(),t._v(" "),"offense"===e.row.role?a("svg",{attrs:{viewBox:"0 0 64 64",width:"100%",height:"100%"}},[a("rect",{attrs:{x:"12",y:"49.3",width:"10.2",height:"5.61"}}),t._v(" "),a("path",{attrs:{d:"M22.2,19.1a10.2,10.2,0,0,0,0-1c-.8-6.9-5.1-9-5.1-9s-4.3,2.1-5.1,9c0,.3,0,1,0,1V45.4H22.2Z"}}),t._v(" "),a("rect",{attrs:{x:"26.9",y:"49.3",width:"10.2",height:"5.61"}}),t._v(" "),a("path",{attrs:{d:"M37.1,19.1a10.2,10.2,0,0,0,0-1C36.3,11.2,32,9,32,9s-4.3,2.1-5.1,9c0,.3,0,1,0,1V45.4H37.1Z"}}),t._v(" "),a("rect",{attrs:{x:"41.8",y:"49.3",width:"10.2",height:"5.61"}}),t._v(" "),a("path",{attrs:{d:"M52,19.1s0-.8,0-1c-.8-6.9-5.1-9-5.1-9s-4.3,2.1-5.1,9c0,.3,0,1,0,1V45.4H52Z"}})]):t._e(),t._v(" "),"tank"===e.row.role?a("svg",{attrs:{viewBox:"0 0 64 64",width:"100%",height:"100%"}},[a("path",{attrs:{d:"M51.4,24.1c0,3.1,0,6.2,0,9.3a4.7,4.7,0,0,1-.6,2.4A57.2,57.2,0,0,1,33.2,55.5a1.8,1.8,0,0,1-2.4,0A57.4,57.4,0,0,1,13.2,36a5.5,5.5,0,0,1-.7-2.8c0-5.8.1-11.7,0-17.5-.1-4.2,3.2-4.9,6.1-5.6A59.4,59.4,0,0,1,32.9,8C37.5,8,44.5,9.6,47,10.4s4.1,1.4,4.3,3.3.1,3.2.1,4.9,0,3.7,0,5.5Z"}})]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"team",label:"队伍",width:"85",filters:t.teamOptions,"filter-method":t.filterTeam,sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"40px","text-align":"center"}},[0!==t.teams.length?a("img",{attrs:{src:t.teams[e.row.teamId].icon,width:"40px",height:"40px"}}):t._e(),t._v(" "),a("div",[t._v(t._s(e.row.team))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"eliminations_avg_per_10m",label:"消灭",width:"80",formatter:t.toFixed2,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"deaths_avg_per_10m",label:"阵亡",width:"80",formatter:t.toFixed2,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"hero_damage_avg_per_10m",label:"伤害",width:"80",formatter:t.toFixed0,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"healing_avg_per_10m",label:"治疗",width:"80",formatter:t.toFixed0,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ultimates_earned_avg_per_10m",formatter:t.toFixed2,label:"终极技能",width:"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"final_blows_avg_per_10m",formatter:t.toFixed2,label:"最后一击",width:"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"time_played_total",label:"游戏时间",width:"120",formatter:t.formatTime,sortable:""}})],1)],1)])},staticRenderFns:[]};var h=a("VU/8")(d,u,!1,function(t){a("5EYH")},"data-v-a89455f6",null).exports,v=a("RRo+"),g=a.n(v),_={name:"Player",data:function(){return{player:void 0,isBrightBg:void 0,remainingHeight:0}},mounted:function(){var t=this;this.$owl.getPlayer(this.$route.params.id).then(function(e){var a;t.player=e,t.isBrightBg=(a=e.team.primaryColor,(299*parseInt(a.substr(0,2),16)+587*parseInt(a.substr(2,2),16)+114*parseInt(a.substr(4,2),16))/1e3>155)})},updated:function(){this.remainingHeight=document.documentElement.clientHeight-this.$refs.header.clientHeight-100},methods:{toFixed0:function(t,e,a){return g()(a)?a:a.toFixed(0)},toFixed2:function(t,e,a){return g()(a)?a:a.toFixed(2)},formatTime:function(t,e,a){var r=p(a),s=o()(r,2),n=s[0],l=s[1];return null===a?"NA":0===n?0===l?Math.round(a)+"秒":l+"分钟":n+"小时"+l+"分钟"},getHeroIcon:function(t){return function(t){return"wreckingball"===t&&(t="wrecking-ball"),"https://d1u1mce87gyfbn.cloudfront.net/hero/"+t+"/icon-portrait.png"}(t)}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return void 0!==t.player?a("div",{staticClass:"player-detail"},[a("div",{ref:"header",staticClass:"player-header",style:{backgroundColor:"#"+t.player.team.primaryColor,color:t.isBrightBg?"black":"white"}},[a("div",{staticStyle:{display:"flex","align-items":"flex-end"}},[a("div",{staticStyle:{width:"700px","text-align":"center"}},[a("img",{staticClass:"player-img",attrs:{src:t.player.basic.headshot,width:"100%"}})]),t._v(" "),a("div",{staticStyle:{padding:"1rem"}},[a("div",{staticClass:"player-name"},[t._v(t._s(t.player.basic.name))]),t._v(" "),a("div",{staticClass:"player-name-real"},[t._v(t._s(t.player.basic.givenName)+" "+t._s(t.player.basic.familyName))]),t._v(" "),a("div",{staticStyle:{display:"flex","align-items":"flex-end","margin-top":"1rem"}},[a("img",{staticClass:"player-team-logo",attrs:{src:t.$teamLogos[t.player.team.id]}})])])])]),t._v(" "),a("el-tabs",{attrs:{type:"border-card",value:"detail"}},[a("el-tab-pane",{attrs:{label:"英雄详情",name:"detail"}},[a("el-table",{attrs:{"max-height":t.remainingHeight,data:t.player.heroes,"default-sort":{prop:"time_played_total",order:"descending"}}},[a("el-table-column",{attrs:{prop:"hero",label:"英雄",fixed:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"hero-portrait-image-mask"},[a("div",{staticClass:"hero-portrait-image",style:"background-image: url("+t.getHeroIcon(e.row.hero)+")"})])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"eliminations_avg_per_10m",label:"消灭",formatter:t.toFixed2,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"deaths_avg_per_10m",label:"阵亡",formatter:t.toFixed2,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"hero_damage_avg_per_10m",label:"伤害",formatter:t.toFixed0,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"healing_avg_per_10m",label:"治疗",formatter:t.toFixed0,sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"ultimates_earned_avg_per_10m",formatter:t.toFixed2,label:"终极技能",sortable:"",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"final_blows_avg_per_10m",formatter:t.toFixed2,label:"最后一击",sortable:"",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time_played_total",label:"游戏时间",formatter:t.formatTime,sortable:"",width:"150"}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"所有英雄",name:"all"}},[a("el-table",{attrs:{data:t.player.all}},[a("el-table-column",{attrs:{prop:"type",label:"所有英雄",fixed:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"eliminations_avg_per_10m",label:"消灭",formatter:t.toFixed2}}),t._v(" "),a("el-table-column",{attrs:{prop:"deaths_avg_per_10m",label:"阵亡",formatter:t.toFixed2}}),t._v(" "),a("el-table-column",{attrs:{prop:"hero_damage_avg_per_10m",label:"伤害",formatter:t.toFixed0}}),t._v(" "),a("el-table-column",{attrs:{prop:"healing_avg_per_10m",label:"治疗",formatter:t.toFixed0}}),t._v(" "),a("el-table-column",{attrs:{prop:"ultimates_earned_avg_per_10m",formatter:t.toFixed2,label:"终极技能",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"final_blows_avg_per_10m",formatter:t.toFixed2,label:"最后一击",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time_played_total",label:"游戏时间",formatter:t.formatTime,width:"150"}})],1)],1)],1)],1):t._e()},staticRenderFns:[]};var b=a("VU/8")(_,f,!1,function(t){a("xeB/")},"data-v-6e557356",null).exports;r.default.use(l.a);var y=new l.a({mode:"history",base:"/owl/",routes:[{path:"/",name:"Players",component:h},{path:"/player/:id",name:"Player",component:b}]}),w=a("Xxa5"),x=a.n(w),k=a("exGp"),F=a.n(k),H=a("//Fk"),C=a.n(H),R=a("wxAW"),L=a.n(R),A=a("Zrlr"),E=a.n(A),S=a("mtWM"),B=function(){function t(e){var a=e.inChina,r=void 0!==a&&a;E()(this,t),this.api=S.create({crossDomain:!0,crossOrigin:!0,baseURL:!0===r?"https://api.overwatchleague.cn/":"https://api.overwatchleague.com/",params:{locale:!0===r?"zh-cn":"en"}})}return L()(t,[{key:"getPlayer",value:function(e){var a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.season,n=void 0===s?2019:s,l=r.stage,i=void 0===l?t.STAGE.REGULAR:l;return new C.a(function(t,r){a.api.get("/players/"+e,{params:{season:n,stage_id:i,expand:"stats,stat.ranks"}}).then(function(e){return t(new function t(e){var a=this;E()(this,t),this.id=e.player.id;var r=e.player,s=r.name,n=r.familyName,l=r.givenName,i=r.nationality,o=r.homeLocation,m=r.headshot,c=e.player.teams[0].team;c.role=e.player.attributes,this.basic={name:s,familyName:n,givenName:l,nationality:i,homeLocation:o,headshot:m},this.team=c,4409===this.team.id&&(this.team.primaryColor="000000"),this.heroes=[],e.stats.heroes.forEach(function(t){var e=t.stats;e.hero=t.name,a.heroes.push(e)}),this.all=[],e.stats.all.type="数据",this.all.push(e.stats.all),e.statRanks.type="排名",this.all.push(e.statRanks)}(e.data.data))}).catch(function(t){return r(t)})})}},{key:"allPlayers",value:function(){var e=F()(x.a.mark(function e(){var a=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r.season,n=void 0===s?2019:s,l=r.stage,i=void 0===l?t.STAGE.REGULAR:l;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new C.a(function(t,e){a.api.get("/stats/players",{params:{season:n,stage_id:i}}).then(function(e){return t(e.data.data)}).catch(function(t){return e(t)})}));case 1:case"end":return t.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"allTeams",value:function(){var t=F()(x.a.mark(function t(){var e=this;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new C.a(function(t,a){e.api.get("/teams").then(function(e){var a={};e.data.competitors.forEach(function(t){a[t.competitor.id]=t.competitor}),t(a)}).catch(function(t){return a(t)})}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}],[{key:"STAGE",get:function(){return{REGULAR:"regular_season",POST:"postseason"}}}]),t}(),P=a("zL8q"),T=a.n(P),M=(a("tvR6"),new B({inChina:!0}));r.default.prototype.$owl=M,r.default.prototype.$teamLogos={4402:"https://bnetcmsus-a.akamaihd.net/cms/page_media/6L8FEHO4JUB51519747890656.svg",4403:"https://bnetcmsus-a.akamaihd.net/cms/page_media/3FXYFS8XQC7C1519747890817.svg",4404:"https://bnetcmsus-a.akamaihd.net/cms/gallery/ux/UXJQ4UM6HEED1544641659418.svg",4405:"https://bnetcmsus-a.akamaihd.net/cms/page_media/DNLJ56ABAOLP1519747890885.svg",4406:"https://bnetcmsus-a.akamaihd.net/cms/page_media/92RXGEWTP0B11519747890766.svg",4407:"https://bnetcmsus-a.akamaihd.net/cms/page_media/FQBVNDFO99P21519747890664.svg",4408:"https://bnetcmsus-a.akamaihd.net/cms/page_media/M703QHV3B6ZC1519747890887.svg",4409:"https://bnetcmsus-a.akamaihd.net/cms/page_media/PALRGLF8SMMC1519747890813.svg",4410:"https://bnetcmsus-a.akamaihd.net/cms/page_media/9X0RTOLWRG231519747890764.svg",4523:"https://bnetcmsus-a.akamaihd.net/cms/page_media/Q8TMKNUFIJL51519747890664.svg",4524:"https://bnetcmsus-a.akamaihd.net/cms/gallery/NHCAR82UZJUK1544642802896.svg",4525:"https://bnetcmsus-a.akamaihd.net/cms/gallery/6LPXHIRHCQTR1546557663345.svg",7692:"https://bnetcmsus-a.akamaihd.net/cms/gallery/K4COQFVPBOPH1541541301546.svg",7693:"https://bnetcmsus-a.akamaihd.net/cms/gallery/W4B278H4M1T01541541301781.svg",7694:"https://bnetcmsus-a.akamaihd.net/cms/gallery/1DJR8B3JN4WT1541541301789.svg",7695:"https://bnetcmsus-a.akamaihd.net/cms/gallery/JMK8L4YYYNR81541541301792.svg",7696:"https://bnetcmsus-a.akamaihd.net/cms/gallery/LLDR7VZ510BN1543976768177.svg",7697:"https://bnetcmsus-a.akamaihd.net/cms/gallery/2YGP6C7VUQLY1541536094681.svg",7698:"https://bnetcmsus-a.akamaihd.net/cms/gallery/F7GNJ0AOZG9F1541541301534.svg",7699:"https://bnetcmsus-a.akamaihd.net/cms/gallery/SHU9HWDMVK391541541301535.svg"},r.default.config.productionTip=!1,r.default.use(T.a),new r.default({el:"#app",router:y,components:{App:n},template:"<App/>",created:function(){if(sessionStorage.redirect){var t=sessionStorage.redirect;delete sessionStorage.redirect,this.$router.push(t)}}})},cSCL:function(t,e){},tvR6:function(t,e){},"xeB/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.40545c1ff1a5309145f7.js.map